<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Access-Control-Allow-Origin" content="no-cors">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Polygon Overlay</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="loader.css" />
    <style>
      #map {
        height: 80vh;
        width: 75vw;
        display: table-cell;
      }
      #map-overlay {
        position: absolute;
        top: 0px;
        left: 0px;
        height: 100%;
        width: 100%;
        background-color: white;
        opacity: 50%;
        z-index: 900;
        display: none;
      }
      #controls {
        height: 80vh;
        overflow-y: scroll;
        display: table-cell;
      }
      #controls select {
        display: table-row;
      }
  </style>
</head>
<body>
  <div>
    <div id="map">
      <div id="map-overlay">
        <div class="loader">
          <div class="bar1"></div>
          <div class="bar2"></div>
          <div class="bar3"></div>
          <div class="bar4"></div>
          <div class="bar5"></div>
          <div class="bar6"></div>
        </div>
      </div>
    </div>
    <div id="controls">
      <span>Metrics</span>
      <select id="metrics" onchange="handleParamsChange(censusData)" multiple size="14"></select>
      <span>Divisions</span>
      <select id="census-divisions" onchange="handleParamsChange(censusData)" multiple size="10"></select>
      <span>Percentile</span>
      <select id="result-size" onchange="handleParamsChange(censusData)" size="6">
        <option value="1">Top 1%</option>
        <option value="5">Top 5%</option>
        <option value="10">Top 10%</option>
        <option value="25">Top 25%</option>
        <option value="50">Top 50%</option>
        <option value="">All</option>
      </select>
      <span>Average Lower-bound</span>
      <select id="lower-bound" onchange="handleParamsChange(censusData)" size="6">
        <option value="95">95%+</option>
        <option value="90">90%+</option>
        <option value="80">80%+</option>
        <option value="70">70%+</option>
        <option value="60">60%+</option>
        <option value="">Any</option>
      </select>
      <hr />
      <span>Results (<span id="location-count"></span>)</span>
      <select id="location" onchange="handleLocationChange()" size="10"></select>
      <button onclick="handleButtonClick()" id="submit">Show on Map</button>
    </div>
  </div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="index.js"></script>
</body>
</html>
